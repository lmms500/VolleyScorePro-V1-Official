# SPEC: MatchOverModal Redesign Implementation

## Visão Geral
Este documento detalha a implementação técnica do redesign do `MatchOverModal.tsx` seguindo o padrão Neo-Glass 3.0. O objetivo é substituir a interface atual por uma versão "Premium/AAA" fiel à referência visual.

## 1. Imports e Dependências
Atualizar os imports do `lucide-react` e manter os demais hooks/componentes.

```typescript
import { 
  Trophy, LogOut, LogIn, MoveRight, Undo, RotateCcw, 
  Share2, Download, X, Loader2, Users 
} from 'lucide-react';
```

## 2. Animações (Framer Motion)
Definir variantes para entrada sequencial dos elementos (Header -> Cards -> Lists -> Footer).

```typescript
const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
        opacity: 1,
        transition: {
            staggerChildren: 0.1,
            delayChildren: 0.2
        }
    }
};

const itemVariants = {
    hidden: { opacity: 0, y: 20 },
    visible: { 
        opacity: 1, 
        y: 0,
        transition: { type: 'spring', stiffness: 300, damping: 24 }
    }
};
```

## 3. Estrutura do JSX (Implementação Completa)

O render principal do modal (`view === 'summary'`) deve seguir esta estrutura:

```tsx
<motion.div
    variants={containerVariants}
    initial="hidden"
    animate="visible"
    exit="hidden"
    className="flex-1 flex flex-col h-full overflow-hidden"
>
    {/* 1. HEADER SECTION */}
    <motion.div variants={itemVariants} className="flex flex-col items-center justify-center p-6 shrink-0 relative">
        {/* Glow effect atrás do troféu */}
        <div className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-${winnerColorKey}-500/20 blur-[50px] rounded-full`} />
        
        <Trophy 
            size={64} 
            className="text-white drop-shadow-2xl relative z-10" 
            strokeWidth={1.5} 
        />
        
        <h2 className="text-3xl font-black text-white mt-6 uppercase tracking-tighter leading-none text-center relative z-10">
            {winnerName}
        </h2>
        
        <div className="flex items-center gap-4 text-6xl font-black mt-2 relative z-10">
            <span className={`text-${isA ? colorA : 'slate'}-400 drop-shadow-lg`}>{state.setsA}</span>
            <span className="text-white/10 font-thin text-4xl">/</span>
            <span className={`text-${!isA ? colorB : 'slate'}-400 drop-shadow-lg`}>{state.setsB}</span>
        </div>
    </motion.div>

    {/* SCROLLABLE CONTENT AREA */}
    <div className="flex-1 overflow-y-auto custom-scrollbar px-4 pb-4 space-y-6">
        
        {/* 2. NEXT ROTATION SECTION */}
        <motion.div variants={itemVariants}>
            {/* Divider Title */}
            <div className="flex items-center gap-4 mb-4">
                <div className="flex-1 h-px bg-white/10" />
                <span className="text-[10px] font-bold uppercase tracking-[0.2em] text-white/40">
                    {t('matchOver.rotationReport.nextRotation') || 'PRÓXIMA ROTAÇÃO'}
                </span>
                <div className="flex-1 h-px bg-white/10" />
            </div>

            {transferAnalysis ? (
                <div className="flex items-center gap-2">
                    {/* LEAVING CARD */}
                    <div className="flex-1 bg-rose-500/10 border border-rose-500/20 rounded-2xl p-4 flex flex-col items-center text-center relative overflow-hidden group">
                         <div className="absolute inset-0 bg-gradient-to-b from-rose-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" />
                         <div className="mb-2 p-2 rounded-full bg-rose-500/20 text-rose-300">
                            <LogOut size={16} />
                         </div>
                         <span className="text-[10px] font-bold text-rose-400 uppercase tracking-wider mb-1">
                            {t('matchOver.rotationReport.leaving') || 'SAINDO'}
                         </span>
                         <span className="text-sm font-black text-white leading-tight truncate w-full">
                            {report?.outgoingTeam.name}
                         </span>
                         <span className="text-[10px] text-white/40 font-medium mt-1">
                            {transferAnalysis.leaving.length} {t('common.players') || 'jogadores'}
                         </span>
                    </div>

                    {/* CONNECTOR */}
                    <div className="shrink-0 flex items-center justify-center">
                        <div className="w-8 h-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white/40">
                            <MoveRight size={14} />
                        </div>
                    </div>

                    {/* ENTERING CARD */}
                    <div className="flex-1 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl p-4 flex flex-col items-center text-center relative overflow-hidden group">
                        <div className="absolute inset-0 bg-gradient-to-b from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" />
                        <div className="mb-2 p-2 rounded-full bg-emerald-500/20 text-emerald-300">
                            <LogIn size={16} />
                        </div>
                        <span className="text-[10px] font-bold text-emerald-400 uppercase tracking-wider mb-1">
                            {t('matchOver.rotationReport.incoming') || 'ENTRANDO'}
                        </span>
                        <span className="text-sm font-black text-white leading-tight truncate w-full">
                            {report?.incomingTeam.name}
                        </span>
                        <span className="text-[10px] text-white/40 font-medium mt-1">
                            {transferAnalysis.incoming.length} {t('common.players') || 'jogadores'}
                        </span>
                    </div>
                </div>
            ) : (
                <div className="text-center py-6 border border-dashed border-white/10 rounded-2xl">
                    <span className="text-xs text-white/30 italic">Sem dados de rotação</span>
                </div>
            )}
        </motion.div>

        {/* 3. PLAYERS LISTS */}
        {transferAnalysis && transferAnalysis.incoming.length > 0 && (
            <motion.div variants={itemVariants} className="space-y-3">
               <div className="flex items-center gap-2">
                    <Users size={12} className="text-emerald-500" />
                    <span className="text-[10px] font-bold uppercase tracking-wider text-white/50">
                        {t('matchOver.rotationReport.enteringCourt') || 'ENTRANDO EM QUADRA'}
                    </span>
               </div>
               <div className="flex flex-wrap gap-2">
                   {transferAnalysis.incoming.map(p => (
                       <div key={p.id} className="flex items-center bg-white/5 border border-white/10 rounded-lg pl-1.5 pr-3 py-1.5 backdrop-blur-sm">
                           {p.number && (
                               <span className="bg-white/10 text-white/70 text-[9px] font-bold px-1.5 py-0.5 rounded mr-2 min-w-[20px] text-center">
                                   {p.number}
                               </span>
                           )}
                           <span className="text-[11px] font-bold text-slate-200">{p.name}</span>
                       </div>
                   ))}
               </div>
            </motion.div>
        )}
        
        {/* BORROWED PLAYERS */}
        {report?.stolenPlayers && report.stolenPlayers.length > 0 && (
            <motion.div variants={itemVariants} className="space-y-3 pt-2">
               <div className="flex items-center gap-2">
                    <Users size={12} className="text-amber-500" />
                    <span className="text-[10px] font-bold uppercase tracking-wider text-amber-500/70">
                        {t('matchOver.rotationReport.borrowedPlayers') || 'JOGADORES EMPRESTADOS'}
                    </span>
               </div>
               <div className="bg-amber-500/5 border border-amber-500/10 rounded-xl p-3">
                   <div className="flex flex-wrap gap-2 mb-2">
                       {report.stolenPlayers.map(p => (
                           <div key={p.id} className="flex items-center bg-amber-500/10 border border-amber-500/20 rounded-lg pl-1.5 pr-3 py-1.5 text-amber-200">
                               {p.number && (
                                   <span className="bg-amber-500/20 text-amber-100 text-[9px] font-bold px-1.5 py-0.5 rounded mr-2">
                                       {p.number}
                                   </span>
                               )}
                               <span className="text-[11px] font-bold">{p.name}</span>
                           </div>
                       ))}
                   </div>
                   <p className="text-[9px] text-amber-500/50 italic leading-relaxed">
                        {t('matchOver.rotationReport.borrowedDisclaimer') || 'Estes jogadores permaneceram em quadra para completar a formação.'}
                   </p>
               </div>
            </motion.div>
        )}
    </div>

    {/* 4. FOOTER ACTIONS (3 LEVELS) */}
    <motion.div variants={itemVariants} className="p-6 pt-4 bg-gradient-to-t from-[#020617] via-[#020617] to-transparent space-y-4 z-20">
        
        {/* Level 1: Primary Action */}
        <Button
            onClick={onRotate}
            disabled={!canInteract || isSpectator}
            className="w-full h-16 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-black text-lg uppercase tracking-widest shadow-xl shadow-indigo-500/20 border-0 flex items-center justify-center gap-3 relative overflow-hidden group"
        >
            <div className="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300" />
            <span>{t('matchOver.nextGameButton')}</span>
            <MoveRight size={20} className="stroke-[3]" />
        </Button>

        {/* Level 2: Secondary Actions */}
        <div className="grid grid-cols-2 gap-3">
             <Button
                onClick={() => handleShareAction('share')}
                disabled={isSharing || !!generatingAction || !canInteract}
                className="h-14 rounded-2xl bg-white/5 hover:bg-white/10 active:bg-white/15 text-white font-bold uppercase tracking-wider text-xs border border-white/10 backdrop-blur-md flex items-center justify-center gap-2"
            >
                {(isSharing || generatingAction === 'share') ? <Loader2 size={18} className="animate-spin" /> : <Share2 size={18} />}
                {t('matchOver.share')}
            </Button>
            
            <Button
                onClick={() => handleShareAction('download')}
                disabled={isSharing || !!generatingAction || !canInteract}
                className="h-14 rounded-2xl bg-white/5 hover:bg-white/10 active:bg-white/15 text-white font-bold uppercase tracking-wider text-xs border border-white/10 backdrop-blur-md flex items-center justify-center gap-2"
            >
                {generatingAction === 'download' ? <Loader2 size={18} className="animate-spin" /> : <Download size={18} />}
                {t('matchOver.download') || 'SALVAR'}
            </Button>
        </div>

        {/* Level 3: Tertiary Actions */}
        <div className="grid grid-cols-2 gap-3 pt-1">
             <Button
                onClick={onUndo}
                variant="ghost"
                disabled={!canInteract || isSpectator}
                className="h-12 rounded-xl text-slate-500 hover:text-white hover:bg-white/5 font-bold uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 transition-colors"
            >
                <Undo size={14} /> {t('controls.undo')}
            </Button>
            
            <Button
                onClick={onReset}
                variant="ghost"
                disabled={!canInteract || isSpectator}
                className="h-12 rounded-xl text-slate-500 hover:text-red-400 hover:bg-rose-500/10 font-bold uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 transition-colors"
            >
                <RotateCcw size={14} /> {t('controls.reset')}
            </Button>
        </div>
        
    </motion.div>
</motion.div>
```

Esta SPEC define a estrutura exata para transformar o visual do modal e deve ser seguida rigorosamente na implementação.
